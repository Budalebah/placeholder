#//---------------------------------------------------------------------------//
#// Copyright (c) 2018-2019 Nil Foundation AG
#// Copyright (c) 2018-2019 Mikhail Komarov <nemo@nil.foundation>
#// Copyright (c) 2019 Moskvin Aleksey <zerg1996@yandex.ru>
#//

language: cpp

sudo: true

python: "2.7"

os:
    - linux
    - osx

env:
  matrix:
    - BOGUS_JOB=true

matrix:
  exclude:
    -   env: BOGUS_JOB=true
  include:
        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++11 TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++14 TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++1z TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode8.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode7.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.3


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode9.4


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode10


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode10.1


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode10.2


        -   os: osx
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: osx
            env: TOOLSET=gcc COMPILER=g++ CXXSTD=c++17 TEST_SUITE=tests-codec
            osx_image: xcode11


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++11 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++14 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++1z TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=clang COMPILER=clang++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - clang++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++5
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++6
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++7
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


        -   os: linux
            env: TOOLSET=gcc COMPILER=gcc++ CXXSTD=c++17 TEST_SUITE=tests-codec
            addons:
                apt:
                    packages:
                        - g++8
                        - cmake
                    sources:
                        - ubuntu-toolchain-r-test


install:
    - cd ..
    - git clone --depth 1 https://github.com/boostorg/boost.git boost-root;
    - cd boost-root
    - git submodule update --init tools/build
    - git submodule update --init libs/config
    - git submodule update --init tools/boost_install
    - git submodule update --init libs/headers
    - git submodule update --init tools/boostdep
    - git submodule update --init libs/multiprecision
    - git submodule update --init libs/container
    - git submodule update --init libs/accumulators
    - python tools/boostdep/depinst/depinst.py multiprecision
    - python tools/boostdep/depinst/depinst.py container
    - python tools/boostdep/depinst/depinst.py accumulators
    - ./bootstrap.sh

    - if [[ $TRAVIS_OS_NAME == osx ]]; then
        brew upgrade;
        brew upgrade cmake;
      fi

script:
    - |-
        echo "using $TOOLSET : : $COMPILER : <cxxflags>-std=$CXXSTD ;" > ~/user-config.jam
    - if [[ $TRAVIS_OS_NAME == linux ]]; then
        proc=$(($(nproc) + 1));
        elif [[ $TRAVIS_OS_NAME == osx ]]; then
        proc=$(($(sysctl -n hw.ncpu) + 1));
      fi;
    - sudo ./b2 -j$proc install;
    - cd $TRAVIS_BUILD_DIR && mkdir cmake-build && cd cmake-build;
    - echo $CXXSTD
    - cmake -DBUILD_SHARED_LIBS=TRUE -DBUILD_TESTS=TRUE -DCMAKE_CXX_STANDARD=$(echo $CXXSTD | sed 's/[^0-9z]*//g') ..;
    - make -j$proc tests-codec;
    - ctest .

notifications:
    email:
        on_success: always
